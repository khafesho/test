{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mahdi\\\\Desktop\\\\test\\\\src\\\\components\\\\pages\\\\Register.js\";\nimport React, { Component } from 'react';\nimport validator from 'validator';\nimport axios from 'axios';\nimport { useHistory, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.redirectToHome = () => {\n      const {\n        history\n      } = this.props;\n      if (history) history.push('/blog');\n    };\n\n    this.state = {\n      fields: {\n        email: '',\n        password: '',\n        fullname: '',\n        birthday: '',\n        gender: 'male'\n      },\n      errors: {}\n    };\n  }\n\n  handleValidation(callback) {\n    let {\n      fields\n    } = this.state;\n    let errors = {};\n    let formIsValid = true; // Email\n\n    if (validator.isEmpty(fields.birthday)) {\n      formIsValid = false;\n      errors[\"birthday\"] = \"plz , enter birthday\";\n    } // Email\n\n\n    if (validator.isEmpty(fields.email)) {\n      formIsValid = false;\n      errors[\"email\"] = \"plz , enter email\";\n    } else if (!validator.isEmail(fields.email)) {\n      formIsValid = false;\n      errors[\"email\"] = \"email is not Valid ! \";\n    } // Email\n\n\n    if (validator.isEmpty(fields.password)) {\n      formIsValid = false;\n      errors[\"password\"] = \"plz , enter password AND Minimum 6 Characters\";\n    } else if (!validator.isLength(fields.password, {\n      min: 6,\n      max: undefined\n    })) {\n      formIsValid = false;\n      errors[\"password\"] = \"password is not Valid ! AND Minimum 6 Characters \";\n    }\n\n    this.setState({\n      errors\n    }, () => {\n      return callback(formIsValid);\n    });\n  }\n\n  handleChange(event) {\n    let fields = this.state.fields;\n    let target = event.target;\n    fields[target.name] = target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  handleRequest() {\n    const {\n      email,\n      password,\n      gender,\n      fullname,\n      birthday\n    } = this.state.fields;\n    let data = new FormData();\n    data.append('email', email);\n    data.append('password', password);\n    data.append('gender', gender);\n    data.append('fullname', fullname);\n    data.append('birthday', birthday);\n    axios.post('http://farmaniehdrycleaning.com/api_rest/rest/product/register.php', data).then(response => {\n      localStorage.setItem('api_token', response.data.api_token);\n      this.redirectToHome; //console.log(response.data.api_token);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.handleValidation(valid => {\n      if (valid) this.handleRequest();\n    });\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      fullname,\n      birthday,\n      gender\n    } = this.state.fields;\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Register Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        className: \"col-lg-5\",\n        style: {\n          marginTop: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Fullname : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: [\"form-control\", errors[\"fullname\"] ? 'is-invalid' : ''].join(' '),\n            name: \"fullname\",\n            value: fullname,\n            onChange: this.handleChange.bind(this),\n            placeholder: \"Please enter your fullname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"invalid-feedback rtl\",\n            style: {\n              display: errors[\"fullname\"] ? 'block' : 'none'\n            },\n            children: errors[\"fullname\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"input-type\",\n              children: \"Gender :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"input-type\",\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"radio-inline\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"gender\",\n                    id: \"input-type-student\",\n                    value: \"male\",\n                    type: \"radio\",\n                    onChange: this.handleChange.bind(this),\n                    checked: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 11\n                  }, this), \" Male\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"radio-inline\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"gender\",\n                    id: \"input-type-tutor\",\n                    value: \"female\",\n                    type: \"radio\",\n                    onChange: this.handleChange.bind(this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 11\n                  }, this), \" FeMale\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Birthday : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: [\"form-control\", errors[\"birthday\"] ? 'is-invalid' : ''].join(' '),\n            name: \"birthday\",\n            value: birthday,\n            onChange: this.handleChange.bind(this),\n            placeholder: \"Please enter your Birthday\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"invalid-feedback rtl\",\n            style: {\n              display: errors[\"birthday\"] ? 'block' : 'none'\n            },\n            children: errors[\"birthday\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: [\"form-control\", errors[\"email\"] ? 'is-invalid' : ''].join(' '),\n            name: \"email\",\n            value: email,\n            onChange: this.handleChange.bind(this),\n            placeholder: \"Please enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"invalid-feedback rtl\",\n            style: {\n              display: errors[\"email\"] ? 'block' : 'none'\n            },\n            children: errors[\"email\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: [\"form-control\", errors[\"password\"] ? 'is-invalid' : ''].join(' '),\n            name: \"password\",\n            value: password,\n            onChange: this.handleChange.bind(this),\n            placeholder: \"Please enter your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"invalid-feedback rtl\",\n            style: {\n              display: errors[\"password\"] ? 'block' : 'none'\n            },\n            children: errors[\"password\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            type: \"submit\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/mahdi/Desktop/test/src/components/pages/Register.js"],"names":["React","Component","validator","axios","useHistory","Link","Register","constructor","props","redirectToHome","history","push","state","fields","email","password","fullname","birthday","gender","errors","handleValidation","callback","formIsValid","isEmpty","isEmail","isLength","min","max","undefined","setState","handleChange","event","target","name","value","handleRequest","data","FormData","append","post","then","response","localStorage","setItem","api_token","catch","error","console","log","handleSubmit","preventDefault","valid","render","bind","marginTop","join","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport validator from 'validator';\r\nimport axios from 'axios';\r\nimport { useHistory , Link } from 'react-router-dom';\r\n\r\n\r\nclass Register extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fields : {\r\n                email : '',\r\n                password : '',\r\n\t\t\t\tfullname : '' ,\r\n\t\t\t\tbirthday : '' ,\r\n\t\t\t\tgender : 'male'\r\n            },\r\n            errors : {}\r\n        }\r\n    }\r\n\t\r\n\t  redirectToHome = () => {\r\n\t   const { history } = this.props;\r\n\t   if(history) history.push('/blog');\r\n\t  }\t\r\n\t\r\n    handleValidation(callback) {\r\n        let { fields } = this.state;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\t\t\r\n\t\t\r\n\t\t// Email\r\n        if(validator.isEmpty(fields.birthday)) {\r\n\t\t\tformIsValid = false;\r\n            errors[\"birthday\"] = \"plz , enter birthday\";\r\n\t\t}\r\n\t\t\r\n        // Email\r\n        if(validator.isEmpty(fields.email)) {\r\n            formIsValid = false;\r\n            errors[\"email\"] = \"plz , enter email\";\r\n        } else if(! validator.isEmail(fields.email)) {\r\n            formIsValid = false;\r\n            errors[\"email\"] = \"email is not Valid ! \";\r\n        }\r\n\r\n        // Email\r\n        if(validator.isEmpty(fields.password)) {\r\n            formIsValid = false;\r\n            errors[\"password\"] = \"plz , enter password AND Minimum 6 Characters\";\r\n        } else if(! validator.isLength(fields.password , { min : 6 , max : undefined})) {\r\n            formIsValid = false;\r\n            errors[\"password\"] = \"password is not Valid ! AND Minimum 6 Characters \";\r\n        }\r\n\r\n        this.setState({ errors },() => {\r\n            return callback(formIsValid)\r\n        });\r\n\r\n    }\r\n    handleChange(event) {\r\n        let fields = this.state.fields;\r\n        let target = event.target;\r\n        fields[target.name] = target.value;\r\n        this.setState({fields});\r\n    }\r\n\t\r\n\r\n    handleRequest() {\r\n\t\t\r\n\t\t\r\n\t\t\r\n        const { email , password , gender , fullname , birthday } = this.state.fields;\r\n\r\n        let data = new FormData();\r\n        data.append('email' , email);\r\n        data.append('password' , password);\r\n\t\tdata.append('gender' , gender);\r\n\t\tdata.append('fullname' , fullname);\r\n\t\tdata.append('birthday' , birthday);\r\n\r\n        axios.post('http://farmaniehdrycleaning.com/api_rest/rest/product/register.php' , data)\r\n\t\t\r\n            .then(response => {\r\n                localStorage.setItem('api_token' , response.data.api_token);\r\n\t\t\t\t\r\n\t\t\t\t\tthis.redirectToHome \r\n\t\t\t\t\r\n\t\t\t\t//console.log(response.data.api_token);\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        this.handleValidation((valid) => {\r\n            if(valid) this.handleRequest()\r\n        })\r\n    }\r\n    render() {\r\n        const {email , password , fullname , birthday , gender } = this.state.fields;\r\n        const { errors } = this.state;\r\n        return (\r\n            <div>\r\n                <h2>Register Form</h2>\r\n                <form onSubmit={this.handleSubmit.bind(this)} className=\"col-lg-5\" style={{ marginTop : 20}}>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n                        <label>Fullname : </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className={[\"form-control\" , errors[\"fullname\"] ? 'is-invalid' : ''].join(' ')}\r\n                            name=\"fullname\"\r\n                            value={fullname}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            placeholder=\"Please enter your fullname\"/>\r\n                        <span className=\"invalid-feedback rtl\" style={{ display : errors[\"fullname\"] ? 'block' : 'none'}}>{errors[\"fullname\"]}</span>\r\n                    </div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t<label for=\"input-type\">Gender :</label>\r\n\t\t\t\t\t\t\t<div id=\"input-type\" className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t<label className=\"radio-inline\">\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"gender\" id=\"input-type-student\" value=\"male\" type=\"radio\" onChange={this.handleChange.bind(this)} checked /> Male\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t<label className=\"radio-inline\">\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"gender\" id=\"input-type-tutor\" value=\"female\" type=\"radio\" onChange={this.handleChange.bind(this)} /> FeMale\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n                        <label> Birthday : </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className={[\"form-control\" , errors[\"birthday\"] ? 'is-invalid' : ''].join(' ')}\r\n                            name=\"birthday\"\r\n                            value={birthday}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            placeholder=\"Please enter your Birthday\"/>\r\n                        <span className=\"invalid-feedback rtl\" style={{ display : errors[\"birthday\"] ? 'block' : 'none'}}>{errors[\"birthday\"]}</span>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email : </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className={[\"form-control\" , errors[\"email\"] ? 'is-invalid' : ''].join(' ')}\r\n                            name=\"email\"\r\n                            value={email}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            placeholder=\"Please enter your email\"/>\r\n                        <span className=\"invalid-feedback rtl\" style={{ display : errors[\"email\"] ? 'block' : 'none'}}>{errors[\"email\"]}</span>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password : </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className={[\"form-control\" , errors[\"password\"] ? 'is-invalid' : ''].join(' ')}\r\n                            name=\"password\"\r\n                            value={password}\r\n                            onChange={this.handleChange.bind(this)}\r\n                            placeholder=\"Please enter your password\"/>\r\n                        <span className=\"invalid-feedback rtl\" style={{ display : errors[\"password\"] ? 'block' : 'none'}}>{errors[\"password\"]}</span>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-danger\" type=\"submit\">Sign Up</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}